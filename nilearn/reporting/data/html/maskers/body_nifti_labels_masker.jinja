{% extends "html/body_base.jinja" %}

{% block report %}
    <div class="pure-g">
        <div class="pure-u-1 pure-u-md-2-3">
            {% if not has_plotting_engine %}

                {% include "html/partials/missing_plotting_engine.jinja" %}

            {% elif content or engine == "brainsprite" %}
                {% if engine == "matplotlib" %}
                    <div class="image">
                        <img class="pure-img"
                             width="100%"
                             src="data:image/svg+xml;base64,{{ content }}"
                             alt="image" />
                    </div>
                {% elif engine == "brainsprite" %}

                    {% include "html/maskers/partials/brainsprite.jinja" %}

                {% endif %}
            {% endif %}
        </div>
        <div class="pure-u-1 pure-u-md-1-3">
            <p>{{ description }}</p>
            {% if number_of_regions %}
                <p>
                    The masker has <b>{{ number_of_regions }}</b> different non-overlapping regions.
                </p>
            {% endif %}
        </div>
    </div>
    <div class="pure-g">
        <div class="pure-u-1 pure-u-md-3-3">
            <div class="d-flex flex-column">
                {% if summary_html %}
                    <details>
                        <summary class="pure-button">Regions summary</summary>
                        <div class="table-container">{{ summary_html|safe }}</div>
                    </details>
                {% endif %}
            </div>
        </div>
    </div>

    {% include "html/maskers/partials/parameters.jinja" %}
    {% include "html/maskers/partials/info_transfom.jinja" %}

    {% if engine == "brainsprite" %}
        <script> {{ js_query_code }} </script>
        <script> {{ brainsprite_code }} </script>
        <script>
      // On load: build all figures
      $(window).on("load", function () {
        // Create brain slices
        var brain = brainsprite({{params}});
      });
        </script>
    {% endif %}
{% endblock report %}
